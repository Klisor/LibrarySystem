# å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ - è®¾è®¡æ–‡æ¡£ï¼ˆä¿®æ”¹ç‰ˆï¼šå‰ç«¯åˆ†é¡µï¼‰

## ğŸ“‹ ä¸€ã€æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡

### 1. ç”¨æˆ·è¡¨ (users)

| å­—æ®µå           | ç±»å‹                 | çº¦æŸ                                | è¯´æ˜         |
| ---------------- | -------------------- | ----------------------------------- | ------------ |
| id               | BIGINT               | PRIMARY KEY, AUTO_INCREMENT         | ä¸»é”®ID       |
| username         | VARCHAR(50)          | UNIQUE, NOT NULL                    | ç”¨æˆ·å       |
| password         | VARCHAR(255)         | NOT NULL                            | å¯†ç          |
| email            | VARCHAR(100)         | UNIQUE, NOT NULL                    | é‚®ç®±         |
| role             | ENUM('ADMIN','USER') | DEFAULT 'USER'                      | è§’è‰²         |
| max_borrow_count | INT                  | DEFAULT 5                           | æœ€å¤§å€Ÿé˜…æ•°é‡ |
| borrowed_count   | INT                  | DEFAULT 0                           | å½“å‰å€Ÿé˜…æ•°é‡ |
| created_at       | TIMESTAMP            | DEFAULT CURRENT_TIMESTAMP           | åˆ›å»ºæ—¶é—´     |
| updated_at       | TIMESTAMP            | DEFAULT CURRENT_TIMESTAMP ON UPDATE | æ›´æ–°æ—¶é—´     |

### 2. ä¹¦ç±è¡¨ (books) - æ–°å¢æ•°å­—åˆ†ç±»å­—æ®µ

| å­—æ®µå           | ç±»å‹         | çº¦æŸ                                | è¯´æ˜         |
| ---------------- | ------------ | ----------------------------------- | ------------ |
| id               | BIGINT       | PRIMARY KEY, AUTO_INCREMENT         | ä¸»é”®ID       |
| isbn             | VARCHAR(20)  | UNIQUE, NOT NULL                    | ISBNå·       |
| title            | VARCHAR(255) | NOT NULL                            | ä¹¦å         |
| author           | VARCHAR(255) | NOT NULL                            | ä½œè€…         |
| publisher        | VARCHAR(255) |                                     | å‡ºç‰ˆç¤¾       |
| publish_year     | INT          |                                     | å‡ºç‰ˆå¹´ä»½     |
| category         | TINYINT      | NOT NULL DEFAULT 10                 | åˆ†ç±»ID(1-10) |
| total_copies     | INT          | DEFAULT 1                           | æ€»å‰¯æœ¬æ•°     |
| available_copies | INT          | DEFAULT 1                           | å¯ç”¨å‰¯æœ¬æ•°   |
| location         | VARCHAR(100) |                                     | å­˜æ”¾ä½ç½®     |
| description      | TEXT         |                                     | æè¿°         |
| created_at       | TIMESTAMP    | DEFAULT CURRENT_TIMESTAMP           | åˆ›å»ºæ—¶é—´     |
| updated_at       | TIMESTAMP    | DEFAULT CURRENT_TIMESTAMP ON UPDATE | æ›´æ–°æ—¶é—´     |

### 3. å€Ÿé˜…è®°å½•è¡¨ (borrow_records)

| å­—æ®µå          | ç±»å‹                                         | çº¦æŸ                                | è¯´æ˜         |
| --------------- | -------------------------------------------- | ----------------------------------- | ------------ |
| id              | BIGINT                                       | PRIMARY KEY, AUTO_INCREMENT         | ä¸»é”®ID       |
| user_id         | BIGINT                                       | FOREIGN KEY (users.id)              | ç”¨æˆ·ID       |
| book_id         | BIGINT                                       | FOREIGN KEY (books.id)              | ä¹¦ç±ID       |
| borrow_date     | TIMESTAMP                                    | DEFAULT CURRENT_TIMESTAMP           | å€Ÿé˜…æ—¥æœŸ     |
| due_date        | TIMESTAMP                                    | NOT NULL                            | åº”è¿˜æ—¥æœŸ     |
| return_date     | TIMESTAMP                                    | NULL                                | å®é™…å½’è¿˜æ—¥æœŸ |
| renewed_count   | INT                                          | DEFAULT 0                           | ç»­å€Ÿæ¬¡æ•°     |
| max_renew_count | INT                                          | DEFAULT 1                           | æœ€å¤§ç»­å€Ÿæ¬¡æ•° |
| status          | ENUM('BORROWED','RETURNED','OVERDUE','LOST') | DEFAULT 'BORROWED'                  | å€Ÿé˜…çŠ¶æ€     |
| created_at      | TIMESTAMP                                    | DEFAULT CURRENT_TIMESTAMP           | åˆ›å»ºæ—¶é—´     |
| updated_at      | TIMESTAMP                                    | DEFAULT CURRENT_TIMESTAMP ON UPDATE | æ›´æ–°æ—¶é—´     |

### 4. ç¬”è®°è¡¨ (notes)

| å­—æ®µå     | ç±»å‹         | çº¦æŸ                                | è¯´æ˜                 |
| ---------- | ------------ | ----------------------------------- | -------------------- |
| id         | BIGINT       | PRIMARY KEY, AUTO_INCREMENT         | ä¸»é”®ID               |
| user_id    | BIGINT       | FOREIGN KEY (users.id)              | ç”¨æˆ·ID               |
| book_id    | BIGINT       | FOREIGN KEY (books.id), NULL        | å…³è”ä¹¦ç±IDï¼ˆå¯ä¸ºç©ºï¼‰ |
| title      | VARCHAR(200) | NOT NULL                            | ç¬”è®°æ ‡é¢˜             |
| content    | TEXT         | NOT NULL                            | ç¬”è®°å†…å®¹             |
| created_at | TIMESTAMP    | DEFAULT CURRENT_TIMESTAMP           | åˆ›å»ºæ—¶é—´             |
| updated_at | TIMESTAMP    | DEFAULT CURRENT_TIMESTAMP ON UPDATE | æ›´æ–°æ—¶é—´             |

## äºŒã€RESTful API æ¥å£è®¾è®¡ï¼ˆå‰ç«¯åˆ†é¡µï¼‰

### 1. é€šç”¨å“åº”æ ¼å¼

```json
{
  "code": 200,        // çŠ¶æ€ç ï¼š200æˆåŠŸï¼Œ400å®¢æˆ·ç«¯é”™è¯¯ï¼Œ401æœªæˆæƒï¼Œ403ç¦æ­¢è®¿é—®ï¼Œ404æœªæ‰¾åˆ°ï¼Œ500æœåŠ¡å™¨é”™è¯¯
  "message": "æ“ä½œæˆåŠŸ", // å“åº”æ¶ˆæ¯
  "data": {},         // å“åº”æ•°æ®ï¼ˆæ ¹æ®æ¥å£ä¸åŒè€Œå˜åŒ–ï¼‰
  "timestamp": "2024-01-01T00:00:00.000Z" // å“åº”æ—¶é—´æˆ³
}
```

### 2. åˆ—è¡¨æ¥å£å“åº”æ ¼å¼

```json
{
  "code": 200,
  "message": "æˆåŠŸ",
  "data": [          // ç›´æ¥è¿”å›æ•°æ®åˆ—è¡¨ï¼Œå‰ç«¯è‡ªè¡Œåˆ†é¡µ
    { /* æ•°æ®å¯¹è±¡1 */ },
    { /* æ•°æ®å¯¹è±¡2 */ },
    // ...
  ],
  "timestamp": "2024-01-01T00:00:00.000Z"
}
```

## 1. ç”¨æˆ·ç®¡ç†æ¥å£

### 1.1 å…¬å¼€æ³¨å†Œæ¥å£

| æ–¹æ³• | ç«¯ç‚¹                  | æƒé™ | æè¿°                           | è¯·æ±‚ä½“æ ¼å¼                                                   | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | --------------------- | ---- | ------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| POST | `/api/users/register` | å…¬å¼€ | ç”¨æˆ·æ³¨å†Œï¼ˆåªèƒ½æ³¨å†Œä¸ºæ™®é€šç”¨æˆ·ï¼‰ | `{"username":"ç”¨æˆ·å(3-20å­—ç¬¦)","password":"å¯†ç (6-20å­—ç¬¦)","email":"é‚®ç®±"}` | username: ç”¨æˆ·å(å¿…å¡«ï¼Œ3-20å­—ç¬¦)<br>password: å¯†ç (å¿…å¡«ï¼Œ6-20å­—ç¬¦)<br>email: é‚®ç®±(å¿…å¡«ï¼Œæœ‰æ•ˆé‚®ç®±æ ¼å¼) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æ³¨å†ŒæˆåŠŸ","data":{"id":1,"username":"test","email":"test@example.com","role":"USER","maxBorrowCount":5,"borrowedCount":0,"createdAt":"2024-01-01T00:00:00.000Z"},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç”¨æˆ·åå·²å­˜åœ¨:<br>`{"code":400,"message":"ç”¨æˆ·åå·²å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>é‚®ç®±å·²å­˜åœ¨:<br>`{"code":400,"message":"é‚®ç®±å·²å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å‚æ•°é”™è¯¯:<br>`{"code":400,"message":"ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-20ä¸ªå­—ç¬¦ä¹‹é—´","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 1.2 ç®¡ç†å‘˜æ·»åŠ ç”¨æˆ·æ¥å£

| æ–¹æ³• | ç«¯ç‚¹         | æƒé™  | æè¿°                         | è¯·æ±‚ä½“æ ¼å¼                                                   | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | ------------ | ----- | ---------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| POST | `/api/users` | ADMIN | ç®¡ç†å‘˜æ·»åŠ ç”¨æˆ·ï¼ˆå¯é€‰æ‹©è§’è‰²ï¼‰ | `{"username":"ç”¨æˆ·å","password":"å¯†ç ","email":"é‚®ç®±","role":"USER"}` | username: ç”¨æˆ·å(å¿…å¡«ï¼Œ3-20å­—ç¬¦)<br>password: å¯†ç (å¿…å¡«ï¼Œ6-20å­—ç¬¦)<br>email: é‚®ç®±(å¿…å¡«)<br>role: è§’è‰²(å¯é€‰ï¼ŒUSERæˆ–ADMINï¼Œé»˜è®¤USER) | æˆåŠŸå“åº”ï¼ˆæ·»åŠ ç®¡ç†å‘˜ï¼‰:<br>`{"code":200,"message":"ç”¨æˆ·æ·»åŠ æˆåŠŸ","data":{"id":2,"username":"admin","email":"admin@example.com","role":"ADMIN","maxBorrowCount":5,"borrowedCount":0,"createdAt":"2024-01-01T00:00:00.000Z"},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æˆåŠŸå“åº”ï¼ˆæ·»åŠ æ™®é€šç”¨æˆ·ï¼‰:<br>`{"code":200,"message":"ç”¨æˆ·æ·»åŠ æˆåŠŸ","data":{"id":3,"username":"user2","email":"user2@example.com","role":"USER","maxBorrowCount":5,"borrowedCount":0,"createdAt":"2024-01-01T00:00:00.000Z"},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç”¨æˆ·åå·²å­˜åœ¨:<br>`{"code":400,"message":"ç”¨æˆ·åå·²å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>è§’è‰²é”™è¯¯:<br>`{"code":400,"message":"è§’è‰²å¿…é¡»æ˜¯USERæˆ–ADMIN","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 1.3 ç”¨æˆ·ç™»å½•æ¥å£

| æ–¹æ³• | ç«¯ç‚¹              | æƒé™ | æè¿°     | è¯·æ±‚ä½“æ ¼å¼                                                   | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | ----------------- | ---- | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| POST | `/api/auth/login` | å…¬å¼€ | ç”¨æˆ·ç™»å½• | `{"username":"ç”¨æˆ·å","password":"å¯†ç "}` æˆ– `{"email":"é‚®ç®±","password":"å¯†ç "}` | username: ç”¨æˆ·å(ä¸emailäºŒé€‰ä¸€)<br>email: é‚®ç®±(ä¸usernameäºŒé€‰ä¸€)<br>password: å¯†ç (å¿…å¡«) | ç™»å½•æˆåŠŸå“åº”:<br>`{"code":200,"message":"ç™»å½•æˆåŠŸ","data":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","expiresIn":86400,"user":{"id":1,"username":"test","email":"test@example.com","role":"USER","maxBorrowCount":5,"borrowedCount":2}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯:<br>`{"code":400,"message":"ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç”¨æˆ·ä¸å­˜åœ¨:<br>`{"code":404,"message":"ç”¨æˆ·ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å‚æ•°é”™è¯¯:<br>`{"code":400,"message":"è¯·æä¾›ç”¨æˆ·åæˆ–é‚®ç®±å’Œå¯†ç ","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 1.4 è·å–ç”¨æˆ·åˆ—è¡¨æ¥å£ï¼ˆå‰ç«¯åˆ†é¡µï¼‰

| æ–¹æ³• | ç«¯ç‚¹         | æƒé™  | æè¿°         | è¯·æ±‚å‚æ•°                                | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | ------------ | ----- | ------------ | --------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| GET  | `/api/users` | ADMIN | è·å–ç”¨æˆ·åˆ—è¡¨ | `username=test&email=example&role=USER` | username: ç”¨æˆ·åæœç´¢(å¯é€‰)<br>email: é‚®ç®±æœç´¢(å¯é€‰)<br>role: è§’è‰²ç­›é€‰(å¯é€‰ï¼ŒUSERæˆ–ADMIN) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":[{"id":1,"username":"test","email":"test@example.com","role":"USER","maxBorrowCount":5,"borrowedCount":2,"createdAt":"2024-01-01T00:00:00.000Z"},{"id":2,"username":"admin","email":"admin@example.com","role":"ADMIN","maxBorrowCount":10,"borrowedCount":0,"createdAt":"2024-01-02T00:00:00.000Z"},...]},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒé™:<br>`{"code":403,"message":"æ— æƒè®¿é—®","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç©ºåˆ—è¡¨:<br>`{"code":200,"message":"æˆåŠŸ","data":[],"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 1.5 è·å–ç”¨æˆ·è¯¦æƒ…æ¥å£

| æ–¹æ³• | ç«¯ç‚¹              | æƒé™            | æè¿°         | è¯·æ±‚å‚æ•° | å‚æ•°è¯´æ˜               | å“åº”æ ¼å¼                                                     |
| ---- | ----------------- | --------------- | ------------ | -------- | ---------------------- | ------------------------------------------------------------ |
| GET  | `/api/users/{id}` | ç”¨æˆ·è‡ªå·±æˆ–ADMIN | è·å–ç”¨æˆ·è¯¦æƒ… | -        | URLå‚æ•°:<br>id: ç”¨æˆ·ID | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":{"id":1,"username":"test","email":"test@example.com","role":"USER","maxBorrowCount":5,"borrowedCount":2,"createdAt":"2024-01-01T00:00:00.000Z","updatedAt":"2024-01-01T00:00:00.000Z"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç”¨æˆ·ä¸å­˜åœ¨:<br>`{"code":404,"message":"ç”¨æˆ·ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒè®¿é—®:<br>`{"code":403,"message":"æ— æƒè®¿é—®å…¶ä»–ç”¨æˆ·ä¿¡æ¯","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 1.6 æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ¥å£

| æ–¹æ³• | ç«¯ç‚¹              | æƒé™            | æè¿°         | è¯·æ±‚ä½“æ ¼å¼                                        | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | ----------------- | --------------- | ------------ | ------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| PUT  | `/api/users/{id}` | ç”¨æˆ·è‡ªå·±æˆ–ADMIN | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ | `{"email":"new@example.com","maxBorrowCount":10}` | email: æ–°é‚®ç®±(å¯é€‰)<br>maxBorrowCount: æœ€å¤§å€Ÿé˜…æ•°é‡(å¯é€‰ï¼Œå¿…é¡»å¤§äºç­‰äºå½“å‰å€Ÿé˜…æ•°é‡) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æ›´æ–°æˆåŠŸ","data":{"id":1,"username":"test","email":"new@example.com","role":"USER","maxBorrowCount":10,"borrowedCount":2,"updatedAt":"2024-01-01T00:00:00.000Z"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç”¨æˆ·ä¸å­˜åœ¨:<br>`{"code":404,"message":"ç”¨æˆ·ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒä¿®æ”¹:<br>`{"code":403,"message":"æ— æƒä¿®æ”¹å…¶ä»–ç”¨æˆ·ä¿¡æ¯","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å‚æ•°é”™è¯¯:<br>`{"code":400,"message":"æœ€å¤§å€Ÿé˜…æ•°é‡ä¸èƒ½å°äºå½“å‰å€Ÿé˜…æ•°é‡","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

---

## 2. å›¾ä¹¦ç®¡ç†æ¥å£

### 2.1 è·å–å›¾ä¹¦åˆ—è¡¨æ¥å£ï¼ˆå‰ç«¯åˆ†é¡µï¼‰

| æ–¹æ³• | ç«¯ç‚¹         | æƒé™   | æè¿°                      | è¯·æ±‚å‚æ•°                                           | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | ------------ | ------ | ------------------------- | -------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| GET  | `/api/books` | æ‰€æœ‰äºº | è·å–å›¾ä¹¦åˆ—è¡¨ï¼ˆæœç´¢+ç­›é€‰ï¼‰ | `title=çº¢&author=æ›¹&category=1&availableOnly=true` | title: ä¹¦åæœç´¢(å¯é€‰ï¼Œæ¨¡ç³ŠåŒ¹é…)<br>author: ä½œè€…æœç´¢(å¯é€‰ï¼Œæ¨¡ç³ŠåŒ¹é…)<br>category: åˆ†ç±»IDç­›é€‰(å¯é€‰ï¼Œ1-10)<br>availableOnly: ä»…æ˜¾ç¤ºæœ‰åº“å­˜çš„å›¾ä¹¦(å¯é€‰ï¼Œtrue/false) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":[{"id":1,"isbn":"978-7-5354-1234-5","title":"çº¢æ¥¼æ¢¦","author":"æ›¹é›ªèŠ¹","publisher":"äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾","publishYear":2020,"category":1,"totalCopies":5,"availableCopies":3,"location":"AåŒº3æ’2æ¶","description":"ä¸­å›½å¤å…¸æ–‡å­¦åè‘—","createdAt":"2024-01-01T00:00:00.000Z","updatedAt":"2024-01-01T00:00:00.000Z"},{"id":2,"isbn":"978-7-02-001501-6","title":"ä¸‰å›½æ¼”ä¹‰","author":"ç½—è´¯ä¸­","publisher":"äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾","publishYear":2019,"category":1,"totalCopies":3,"availableCopies":1,"location":"AåŒº2æ’1æ¶","description":"ä¸­å›½å¤ä»£å†å²å°è¯´","createdAt":"2024-01-02T00:00:00.000Z","updatedAt":"2024-01-02T00:00:00.000Z"},...]},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å‚æ•°é”™è¯¯:<br>`{"code":400,"message":"åˆ†ç±»IDå¿…é¡»åœ¨1-10ä¹‹é—´","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç©ºåˆ—è¡¨:<br>`{"code":200,"message":"æˆåŠŸ","data":[],"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 2.2 è·å–å›¾ä¹¦è¯¦æƒ…æ¥å£

| æ–¹æ³• | ç«¯ç‚¹              | æƒé™   | æè¿°         | è¯·æ±‚å‚æ•° | å‚æ•°è¯´æ˜               | å“åº”æ ¼å¼                                                     |
| ---- | ----------------- | ------ | ------------ | -------- | ---------------------- | ------------------------------------------------------------ |
| GET  | `/api/books/{id}` | æ‰€æœ‰äºº | è·å–å›¾ä¹¦è¯¦æƒ… | -        | URLå‚æ•°:<br>id: å›¾ä¹¦ID | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":{"id":1,"isbn":"978-7-5354-1234-5","title":"çº¢æ¥¼æ¢¦","author":"æ›¹é›ªèŠ¹","publisher":"äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾","publishYear":2020,"category":1,"totalCopies":5,"availableCopies":3,"location":"AåŒº3æ’2æ¶","description":"ä¸­å›½å¤å…¸æ–‡å­¦åè‘—ï¼Œæ¸…ä»£ä½œå®¶æ›¹é›ªèŠ¹åˆ›ä½œçš„é•¿ç¯‡ç« å›ä½“å°è¯´ã€‚","createdAt":"2024-01-01T00:00:00.000Z","updatedAt":"2024-01-01T00:00:00.000Z"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å›¾ä¹¦ä¸å­˜åœ¨:<br>`{"code":404,"message":"å›¾ä¹¦ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 2.3 æ·»åŠ å›¾ä¹¦æ¥å£

| æ–¹æ³• | ç«¯ç‚¹         | æƒé™  | æè¿°     | è¯·æ±‚ä½“æ ¼å¼                                                   | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | ------------ | ----- | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| POST | `/api/books` | ADMIN | æ·»åŠ å›¾ä¹¦ | `{"isbn":"978-7-5354-1234-5","title":"çº¢æ¥¼æ¢¦","author":"æ›¹é›ªèŠ¹","publisher":"äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾","publishYear":2020,"category":1,"totalCopies":5,"availableCopies":5,"location":"AåŒº3æ’2æ¶","description":"ä¸­å›½å¤å…¸æ–‡å­¦åè‘—"}` | isbn: ISBNå·(å¿…å¡«ï¼Œå”¯ä¸€)<br>title: ä¹¦å(å¿…å¡«)<br>author: ä½œè€…(å¿…å¡«)<br>publisher: å‡ºç‰ˆç¤¾(å¯é€‰)<br>publishYear: å‡ºç‰ˆå¹´ä»½(å¯é€‰)<br>category: åˆ†ç±»ID(å¿…å¡«ï¼Œ1-10)<br>totalCopies: æ€»å‰¯æœ¬æ•°(å¯é€‰ï¼Œé»˜è®¤1ï¼Œå¿…é¡»å¤§äº0)<br>availableCopies: å¯ç”¨å‰¯æœ¬æ•°(å¯é€‰ï¼Œé»˜è®¤ç­‰äºtotalCopies)<br>location: å­˜æ”¾ä½ç½®(å¯é€‰)<br>description: æè¿°(å¯é€‰) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"å›¾ä¹¦æ·»åŠ æˆåŠŸ","data":{"id":1,"isbn":"978-7-5354-1234-5","title":"çº¢æ¥¼æ¢¦","author":"æ›¹é›ªèŠ¹","publisher":"äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾","publishYear":2020,"category":1,"totalCopies":5,"availableCopies":5,"location":"AåŒº3æ’2æ¶","description":"ä¸­å›½å¤å…¸æ–‡å­¦åè‘—","createdAt":"2024-01-01T00:00:00.000Z","updatedAt":"2024-01-01T00:00:00.000Z"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ISBNå·²å­˜åœ¨:<br>`{"code":400,"message":"ISBNå·²å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>åˆ†ç±»IDæ— æ•ˆ:<br>`{"code":400,"message":"åˆ†ç±»IDæ— æ•ˆï¼Œå¿…é¡»åœ¨1-10ä¹‹é—´","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å‚æ•°é”™è¯¯:<br>`{"code":400,"message":"ä¹¦åä¸èƒ½ä¸ºç©º","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 2.4 æ›´æ–°å›¾ä¹¦ä¿¡æ¯æ¥å£

| æ–¹æ³• | ç«¯ç‚¹              | æƒé™  | æè¿°         | è¯·æ±‚ä½“æ ¼å¼                                                   | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | ----------------- | ----- | ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| PUT  | `/api/books/{id}` | ADMIN | æ›´æ–°å›¾ä¹¦ä¿¡æ¯ | `{"title":"æ–°ä¹¦å","author":"æ–°ä½œè€…","category":2,"availableCopies":2}` | title: ä¹¦å(å¯é€‰)<br>author: ä½œè€…(å¯é€‰)<br>publisher: å‡ºç‰ˆç¤¾(å¯é€‰)<br>publishYear: å‡ºç‰ˆå¹´ä»½(å¯é€‰)<br>category: åˆ†ç±»ID(å¯é€‰ï¼Œ1-10)<br>totalCopies: æ€»å‰¯æœ¬æ•°(å¯é€‰ï¼Œå¿…é¡»å¤§äºç­‰äºavailableCopies)<br>availableCopies: å¯ç”¨å‰¯æœ¬æ•°(å¯é€‰ï¼Œä¸èƒ½å¤§äºtotalCopies)<br>location: å­˜æ”¾ä½ç½®(å¯é€‰)<br>description: æè¿°(å¯é€‰) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æ›´æ–°æˆåŠŸ","data":{"id":1,"isbn":"978-7-5354-1234-5","title":"æ–°ä¹¦å","author":"æ–°ä½œè€…","publisher":"äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾","publishYear":2020,"category":2,"totalCopies":5,"availableCopies":2,"location":"AåŒº3æ’2æ¶","description":"ä¸­å›½å¤å…¸æ–‡å­¦åè‘—","updatedAt":"2024-01-01T00:00:00.000Z"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å›¾ä¹¦ä¸å­˜åœ¨:<br>`{"code":404,"message":"å›¾ä¹¦ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å‚æ•°é”™è¯¯:<br>`{"code":400,"message":"å¯ç”¨å‰¯æœ¬æ•°ä¸èƒ½å¤§äºæ€»å‰¯æœ¬æ•°","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>åˆ†ç±»IDæ— æ•ˆ:<br>`{"code":400,"message":"åˆ†ç±»IDæ— æ•ˆï¼Œå¿…é¡»åœ¨1-10ä¹‹é—´","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 2.5 åˆ é™¤å›¾ä¹¦æ¥å£

| æ–¹æ³•   | ç«¯ç‚¹              | æƒé™  | æè¿°     | è¯·æ±‚å‚æ•° | å‚æ•°è¯´æ˜               | å“åº”æ ¼å¼                                                     |
| ------ | ----------------- | ----- | -------- | -------- | ---------------------- | ------------------------------------------------------------ |
| DELETE | `/api/books/{id}` | ADMIN | åˆ é™¤å›¾ä¹¦ | -        | URLå‚æ•°:<br>id: å›¾ä¹¦ID | æˆåŠŸå“åº”:<br>`{"code":200,"message":"åˆ é™¤æˆåŠŸ","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å›¾ä¹¦ä¸å­˜åœ¨:<br>`{"code":404,"message":"å›¾ä¹¦ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å›¾ä¹¦å·²è¢«å€Ÿé˜…:<br>`{"code":400,"message":"å›¾ä¹¦å·²è¢«å€Ÿé˜…ï¼Œæ— æ³•åˆ é™¤","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br> |

### 2.6 æœç´¢å›¾ä¹¦æ¥å£

| æ–¹æ³• | ç«¯ç‚¹                | æƒé™   | æè¿°                     | è¯·æ±‚å‚æ•°               | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | ------------------- | ------ | ------------------------ | ---------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| GET  | `/api/books/search` | æ‰€æœ‰äºº | æœç´¢å›¾ä¹¦ï¼ˆç”¨äºå¿«é€Ÿæœç´¢ï¼‰ | `q=çº¢æ¥¼æ¢¦&field=title` | q: æœç´¢å…³é”®è¯(å¿…å¡«)<br>field: æœç´¢å­—æ®µ(title/author/isbn,é»˜è®¤title) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":[{"id":1,"isbn":"978-7-5354-1234-5","title":"çº¢æ¥¼æ¢¦","author":"æ›¹é›ªèŠ¹","publisher":"äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾","publishYear":2020,"category":1,"availableCopies":3},{"id":2,"isbn":"978-7-5354-1235-2","title":"çº¢æ¥¼æ¢¦ç»­","author":"æ›¹é›ªèŠ¹","publisher":"äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾","publishYear":2021,"category":1,"availableCopies":2}]},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— ç»“æœ:<br>`{"code":200,"message":"æˆåŠŸ","data":[],"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å‚æ•°é”™è¯¯:<br>`{"code":400,"message":"æœç´¢å…³é”®è¯ä¸èƒ½ä¸ºç©º","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å­—æ®µé”™è¯¯:<br>`{"code":400,"message":"æœç´¢å­—æ®µå¿…é¡»æ˜¯titleã€authoræˆ–isbn","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 3. å€Ÿé˜…ç®¡ç†æ¥å£

### 3.1 å€Ÿä¹¦æ¥å£

| æ–¹æ³• | ç«¯ç‚¹          | æƒé™  | æè¿°             | è¯·æ±‚ä½“æ ¼å¼                | å‚æ•°è¯´æ˜                                     | å“åº”æ ¼å¼                                                     |
| ---- | ------------- | ----- | ---------------- | ------------------------- | -------------------------------------------- | ------------------------------------------------------------ |
| POST | `/api/borrow` | ADMIN | ç®¡ç†å‘˜ä¸ºç”¨æˆ·å€Ÿä¹¦ | `{"userId":1,"bookId":2}` | userId: ç”¨æˆ·ID(å¿…å¡«)<br>bookId: å›¾ä¹¦ID(å¿…å¡«) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"å€Ÿä¹¦æˆåŠŸ","data":{"recordId":1,"bookId":2,"userId":1,"bookTitle":"çº¢æ¥¼æ¢¦","userName":"å¼ ä¸‰","borrowDate":"2024-01-01T00:00:00.000Z","dueDate":"2024-01-31T00:00:00.000Z","status":"BORROWED"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç”¨æˆ·å·²è¾¾æœ€å¤§å€Ÿé˜…æ•°:<br>`{"code":400,"message":"ç”¨æˆ·å·²è¾¾åˆ°æœ€å¤§å€Ÿé˜…æ•°é‡","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å›¾ä¹¦æ— åº“å­˜:<br>`{"code":400,"message":"å›¾ä¹¦åº“å­˜ä¸è¶³","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç”¨æˆ·ä¸å­˜åœ¨:<br>`{"code":404,"message":"ç”¨æˆ·ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å›¾ä¹¦ä¸å­˜åœ¨:<br>`{"code":404,"message":"å›¾ä¹¦ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å‚æ•°é”™è¯¯:<br>`{"code":400,"message":"ç”¨æˆ·IDå’Œå›¾ä¹¦IDä¸èƒ½ä¸ºç©º","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 3.2 è¿˜ä¹¦æ¥å£

| æ–¹æ³• | ç«¯ç‚¹                            | æƒé™  | æè¿°     | è¯·æ±‚å‚æ•° | å‚æ•°è¯´æ˜                         | å“åº”æ ¼å¼                                                     |
| ---- | ------------------------------- | ----- | -------- | -------- | -------------------------------- | ------------------------------------------------------------ |
| POST | `/api/borrow/{recordId}/return` | ADMIN | å½’è¿˜å›¾ä¹¦ | -        | URLå‚æ•°:<br>recordId: å€Ÿé˜…è®°å½•ID | æˆåŠŸå“åº”:<br>`{"code":200,"message":"è¿˜ä¹¦æˆåŠŸ","data":{"recordId":1,"bookId":2,"userId":1,"bookTitle":"çº¢æ¥¼æ¢¦","userName":"å¼ ä¸‰","borrowDate":"2024-01-01T00:00:00.000Z","returnDate":"2024-01-15T00:00:00.000Z","status":"RETURNED"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å€Ÿé˜…è®°å½•ä¸å­˜åœ¨:<br>`{"code":404,"message":"å€Ÿé˜…è®°å½•ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å›¾ä¹¦å·²å½’è¿˜:<br>`{"code":400,"message":"å›¾ä¹¦å·²å½’è¿˜","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒé™:<br>`{"code":403,"message":"æ— æƒæ“ä½œ","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 3.3 ç»­å€Ÿæ¥å£

| æ–¹æ³• | ç«¯ç‚¹                           | æƒé™   | æè¿°         | è¯·æ±‚å‚æ•° | å‚æ•°è¯´æ˜                         | å“åº”æ ¼å¼                                                     |
| ---- | ------------------------------ | ------ | ------------ | -------- | -------------------------------- | ------------------------------------------------------------ |
| POST | `/api/borrow/{recordId}/renew` | å€Ÿé˜…è€… | ç”¨æˆ·ç»­å€Ÿå›¾ä¹¦ | -        | URLå‚æ•°:<br>recordId: å€Ÿé˜…è®°å½•ID | æˆåŠŸå“åº”:<br>`{"code":200,"message":"ç»­å€ŸæˆåŠŸ","data":{"recordId":1,"newDueDate":"2024-02-14T00:00:00.000Z","renewedCount":1,"maxRenewCount":1}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å·²è¾¾åˆ°æœ€å¤§ç»­å€Ÿæ¬¡æ•°:<br>`{"code":400,"message":"å·²è¾¾åˆ°æœ€å¤§ç»­å€Ÿæ¬¡æ•°","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒæ“ä½œ:<br>`{"code":403,"message":"æ— æƒæ“ä½œæ­¤å€Ÿé˜…è®°å½•","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å€Ÿé˜…è®°å½•ä¸å­˜åœ¨:<br>`{"code":404,"message":"å€Ÿé˜…è®°å½•ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å›¾ä¹¦å·²å½’è¿˜:<br>`{"code":400,"message":"å›¾ä¹¦å·²å½’è¿˜ï¼Œä¸èƒ½ç»­å€Ÿ","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 3.4 è·å–å€Ÿé˜…è®°å½•æ¥å£ï¼ˆå‰ç«¯åˆ†é¡µï¼‰

| æ–¹æ³• | ç«¯ç‚¹                  | æƒé™                     | æè¿°         | è¯·æ±‚å‚æ•°                   | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | --------------------- | ------------------------ | ------------ | -------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| GET  | `/api/borrow/records` | ç®¡ç†å‘˜çœ‹å…¨éƒ¨ï¼Œç”¨æˆ·çœ‹è‡ªå·± | è·å–å€Ÿé˜…è®°å½• | `status=BORROWED&userId=1` | status: çŠ¶æ€ç­›é€‰(BORROWED/RETURNED/OVERDUEï¼Œå¯é€‰)<br>userId: ç”¨æˆ·IDç­›é€‰(ç®¡ç†å‘˜å¯ç”¨ï¼Œæ™®é€šç”¨æˆ·åªèƒ½æŸ¥çœ‹è‡ªå·±çš„) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":[{"id":1,"userId":1,"bookId":2,"userName":"å¼ ä¸‰","bookTitle":"çº¢æ¥¼æ¢¦","borrowDate":"2024-01-01T00:00:00.000Z","dueDate":"2024-01-31T00:00:00.000Z","returnDate":null,"renewedCount":0,"maxRenewCount":1,"status":"BORROWED","createdAt":"2024-01-01T00:00:00.000Z"},{"id":2,"userId":2,"bookId":3,"userName":"æå››","bookTitle":"ä¸‰å›½æ¼”ä¹‰","borrowDate":"2024-01-02T00:00:00.000Z","dueDate":"2024-02-01T00:00:00.000Z","returnDate":"2024-01-20T00:00:00.000Z","renewedCount":0,"maxRenewCount":1,"status":"RETURNED","createdAt":"2024-01-02T00:00:00.000Z"},...]},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>çŠ¶æ€é”™è¯¯:<br>`{"code":400,"message":"çŠ¶æ€å¿…é¡»æ˜¯BORROWEDã€RETURNEDæˆ–OVERDUE","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç©ºåˆ—è¡¨:<br>`{"code":200,"message":"æˆåŠŸ","data":[],"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 3.5 è·å–å€Ÿé˜…è®°å½•è¯¦æƒ…æ¥å£

| æ–¹æ³• | ç«¯ç‚¹                       | æƒé™            | æè¿°             | è¯·æ±‚å‚æ•° | å‚æ•°è¯´æ˜                   | å“åº”æ ¼å¼                                                     |
| ---- | -------------------------- | --------------- | ---------------- | -------- | -------------------------- | ------------------------------------------------------------ |
| GET  | `/api/borrow/records/{id}` | ç›¸å…³ç”¨æˆ·æˆ–ADMIN | è·å–å€Ÿé˜…è®°å½•è¯¦æƒ… | -        | URLå‚æ•°:<br>id: å€Ÿé˜…è®°å½•ID | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":{"id":1,"userId":1,"bookId":2,"userName":"å¼ ä¸‰","userEmail":"zhangsan@example.com","bookTitle":"çº¢æ¥¼æ¢¦","bookIsbn":"978-7-5354-1234-5","borrowDate":"2024-01-01T00:00:00.000Z","dueDate":"2024-01-31T00:00:00.000Z","returnDate":null,"renewedCount":0,"maxRenewCount":1,"status":"BORROWED","createdAt":"2024-01-01T00:00:00.000Z","updatedAt":"2024-01-01T00:00:00.000Z"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>è®°å½•ä¸å­˜åœ¨:<br>`{"code":404,"message":"å€Ÿé˜…è®°å½•ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒè®¿é—®:<br>`{"code":403,"message":"æ— æƒè®¿é—®æ­¤å€Ÿé˜…è®°å½•","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 3.6 è·å–é€¾æœŸå€Ÿé˜…è®°å½•æ¥å£ï¼ˆå‰ç«¯åˆ†é¡µï¼‰

| æ–¹æ³• | ç«¯ç‚¹                  | æƒé™  | æè¿°             | è¯·æ±‚å‚æ•° | å‚æ•°è¯´æ˜ | å“åº”æ ¼å¼                                                     |
| ---- | --------------------- | ----- | ---------------- | -------- | -------- | ------------------------------------------------------------ |
| GET  | `/api/borrow/overdue` | ADMIN | è·å–é€¾æœŸå€Ÿé˜…è®°å½• | -        | -        | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":[{"id":3,"userId":3,"bookId":4,"userName":"ç‹äº”","bookTitle":"è¥¿æ¸¸è®°","borrowDate":"2023-12-01T00:00:00.000Z","dueDate":"2023-12-31T00:00:00.000Z","overdueDays":1,"status":"OVERDUE","createdAt":"2023-12-01T00:00:00.000Z"},...]},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— é€¾æœŸè®°å½•:<br>`{"code":200,"message":"æˆåŠŸ","data":[],"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒé™:<br>`{"code":403,"message":"æ— æƒè®¿é—®","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 3.7 è·å–å€Ÿé˜…ç»Ÿè®¡æ¥å£

| æ–¹æ³• | ç«¯ç‚¹                | æƒé™  | æè¿°         | è¯·æ±‚å‚æ•° | å‚æ•°è¯´æ˜ | å“åº”æ ¼å¼                                                     |
| ---- | ------------------- | ----- | ------------ | -------- | -------- | ------------------------------------------------------------ |
| GET  | `/api/borrow/stats` | ADMIN | è·å–å€Ÿé˜…ç»Ÿè®¡ | -        | -        | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":{"totalUsers":100,"totalBooks":500,"totalBorrowed":50,"totalOverdue":5,"todayBorrowed":3,"todayReturned":2,"popularBooks":[{"bookId":1,"bookTitle":"çº¢æ¥¼æ¢¦","borrowCount":20},{"bookId":2,"bookTitle":"ä¸‰å›½æ¼”ä¹‰","borrowCount":15}],"popularCategories":[{"category":1,"categoryName":"æ–‡å­¦","count":30},{"category":2,"categoryName":"å†å²","count":20}]}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒé™:<br>`{"code":403,"message":"æ— æƒè®¿é—®","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æœåŠ¡é”™è¯¯:<br>`{"code":500,"message":"æœåŠ¡å™¨å†…éƒ¨é”™è¯¯","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

---

## 4. ç¬”è®°ç®¡ç†æ¥å£

### 4.1 è·å–ç¬”è®°åˆ—è¡¨æ¥å£ï¼ˆå‰ç«¯åˆ†é¡µï¼‰

| æ–¹æ³• | ç«¯ç‚¹         | æƒé™     | æè¿°                 | è¯·æ±‚å‚æ•°   | å‚æ•°è¯´æ˜                 | å“åº”æ ¼å¼                                                     |
| ---- | ------------ | -------- | -------------------- | ---------- | ------------------------ | ------------------------------------------------------------ |
| GET  | `/api/notes` | ç”¨æˆ·è‡ªå·± | è·å–å½“å‰ç”¨æˆ·æ‰€æœ‰ç¬”è®° | `bookId=2` | bookId: ä¹¦ç±IDç­›é€‰(å¯é€‰) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":[{"id":1,"userId":1,"bookId":2,"bookTitle":"çº¢æ¥¼æ¢¦","title":"çº¢æ¥¼æ¢¦è¯»ä¹¦ç¬”è®°","content":"è¿™æ˜¯ä¸€ç¯‡å…³äºçº¢æ¥¼æ¢¦çš„è¯»ä¹¦ç¬”è®°...","createdAt":"2024-01-01T00:00:00.000Z","updatedAt":"2024-01-01T00:00:00.000Z"},{"id":2,"userId":1,"bookId":null,"title":"æˆ‘çš„å­¦ä¹ è®¡åˆ’","content":"å­¦ä¹ è®¡åˆ’å†…å®¹...","createdAt":"2024-01-02T00:00:00.000Z","updatedAt":"2024-01-02T00:00:00.000Z"},...]},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æœªç™»å½•:<br>`{"code":401,"message":"æœªç™»å½•","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç©ºåˆ—è¡¨:<br>`{"code":200,"message":"æˆåŠŸ","data":[],"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 4.2 è·å–ç¬”è®°è¯¦æƒ…æ¥å£

| æ–¹æ³• | ç«¯ç‚¹              | æƒé™       | æè¿°         | è¯·æ±‚å‚æ•° | å‚æ•°è¯´æ˜               | å“åº”æ ¼å¼                                                     |
| ---- | ----------------- | ---------- | ------------ | -------- | ---------------------- | ------------------------------------------------------------ |
| GET  | `/api/notes/{id}` | ç¬”è®°æ‰€æœ‰è€… | è·å–ç¬”è®°è¯¦æƒ… | -        | URLå‚æ•°:<br>id: ç¬”è®°ID | æˆåŠŸå“åº”:<br>`{"code":200,"message":"æˆåŠŸ","data":{"id":1,"userId":1,"bookId":2,"bookTitle":"çº¢æ¥¼æ¢¦","title":"çº¢æ¥¼æ¢¦è¯»ä¹¦ç¬”è®°","content":"è¿™æ˜¯ä¸€ç¯‡å…³äºçº¢æ¥¼æ¢¦çš„è¯»ä¹¦ç¬”è®°...","createdAt":"2024-01-01T00:00:00.000Z","updatedAt":"2024-01-01T00:00:00.000Z"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç¬”è®°ä¸å­˜åœ¨:<br>`{"code":404,"message":"ç¬”è®°ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒè®¿é—®:<br>`{"code":403,"message":"æ— æƒè®¿é—®æ­¤ç¬”è®°","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æœªç™»å½•:<br>`{"code":401,"message":"æœªç™»å½•","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 4.3 åˆ›å»ºç¬”è®°æ¥å£

| æ–¹æ³• | ç«¯ç‚¹         | æƒé™     | æè¿°     | è¯·æ±‚ä½“æ ¼å¼                                             | å‚æ•°è¯´æ˜                                                     | å“åº”æ ¼å¼                                                     |
| ---- | ------------ | -------- | -------- | ------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| POST | `/api/notes` | ç”¨æˆ·è‡ªå·± | åˆ›å»ºç¬”è®° | `{"title":"ç¬”è®°æ ‡é¢˜","content":"ç¬”è®°å†…å®¹","bookId":2}` | title: ç¬”è®°æ ‡é¢˜(å¿…å¡«ï¼Œ1-200å­—ç¬¦)<br>content: ç¬”è®°å†…å®¹(å¿…å¡«)<br>bookId: å…³è”ä¹¦ç±ID(å¯é€‰) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"ç¬”è®°åˆ›å»ºæˆåŠŸ","data":{"id":1,"userId":1,"bookId":2,"title":"ç¬”è®°æ ‡é¢˜","content":"ç¬”è®°å†…å®¹","createdAt":"2024-01-01T00:00:00.000Z","updatedAt":"2024-01-01T00:00:00.000Z"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ä¹¦ç±ä¸å­˜åœ¨:<br>`{"code":400,"message":"å…³è”çš„ä¹¦ç±ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æœªç™»å½•:<br>`{"code":401,"message":"æœªç™»å½•","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>å‚æ•°é”™è¯¯:<br>`{"code":400,"message":"ç¬”è®°æ ‡é¢˜ä¸èƒ½ä¸ºç©º","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 4.4 æ›´æ–°ç¬”è®°æ¥å£

| æ–¹æ³• | ç«¯ç‚¹              | æƒé™       | æè¿°     | è¯·æ±‚ä½“æ ¼å¼                              | å‚æ•°è¯´æ˜                                                    | å“åº”æ ¼å¼                                                     |
| ---- | ----------------- | ---------- | -------- | --------------------------------------- | ----------------------------------------------------------- | ------------------------------------------------------------ |
| PUT  | `/api/notes/{id}` | ç¬”è®°æ‰€æœ‰è€… | æ›´æ–°ç¬”è®° | `{"title":"æ–°æ ‡é¢˜","content":"æ–°å†…å®¹"}` | title: ç¬”è®°æ ‡é¢˜(å¯é€‰ï¼Œ1-200å­—ç¬¦)<br>content: ç¬”è®°å†…å®¹(å¯é€‰) | æˆåŠŸå“åº”:<br>`{"code":200,"message":"ç¬”è®°æ›´æ–°æˆåŠŸ","data":{"id":1,"userId":1,"bookId":2,"title":"æ–°æ ‡é¢˜","content":"æ–°å†…å®¹","updatedAt":"2024-01-01T00:00:00.000Z"}},"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç¬”è®°ä¸å­˜åœ¨:<br>`{"code":404,"message":"ç¬”è®°ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒä¿®æ”¹:<br>`{"code":403,"message":"æ— æƒä¿®æ”¹æ­¤ç¬”è®°","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æœªç™»å½•:<br>`{"code":401,"message":"æœªç™»å½•","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |

### 4.5 åˆ é™¤ç¬”è®°æ¥å£

| æ–¹æ³•   | ç«¯ç‚¹              | æƒé™       | æè¿°     | è¯·æ±‚å‚æ•° | å‚æ•°è¯´æ˜               | å“åº”æ ¼å¼                                                     |
| ------ | ----------------- | ---------- | -------- | -------- | ---------------------- | ------------------------------------------------------------ |
| DELETE | `/api/notes/{id}` | ç¬”è®°æ‰€æœ‰è€… | åˆ é™¤ç¬”è®° | -        | URLå‚æ•°:<br>id: ç¬”è®°ID | æˆåŠŸå“åº”:<br>`{"code":200,"message":"ç¬”è®°åˆ é™¤æˆåŠŸ","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>ç¬”è®°ä¸å­˜åœ¨:<br>`{"code":404,"message":"ç¬”è®°ä¸å­˜åœ¨","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æ— æƒåˆ é™¤:<br>`{"code":403,"message":"æ— æƒåˆ é™¤æ­¤ç¬”è®°","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}`<br><br>æœªç™»å½•:<br>`{"code":401,"message":"æœªç™»å½•","data":null,"timestamp":"2024-01-01T00:00:00.000Z"}` |



### æ ¸å¿ƒæ€æƒ³

**åç«¯ä¸€æ¬¡æ€§è¿”å›æ‰€æœ‰æ•°æ® â†’ å‰ç«¯æ‹¿åˆ°æ‰€æœ‰æ•°æ®åè‡ªè¡Œåˆ†é¡µæ˜¾ç¤º**

### å‰ç«¯åˆ†é¡µå®ç°ä»£ç 

```vue
<template>
  <div>
    <!-- è¡¨æ ¼æ˜¾ç¤ºæ•°æ® -->
    <el-table :data="currentPageData">
      <el-table-column prop="title" label="ä¹¦å"></el-table-column>
      <el-table-column prop="author" label="ä½œè€…"></el-table-column>
    </el-table>
    
    <!-- åˆ†é¡µæŒ‰é’® -->
    <el-pagination
      @current-change="handlePageChange"
      @size-change="handleSizeChange"
      :current-page="currentPage"
      :page-size="pageSize"
      :page-sizes="[10, 20, 50, 100]"
      :total="totalData.length"
      layout="total, sizes, prev, pager, next">
    </el-pagination>
  </div>
</template>

<script>
export default {
  data() {
    return {
      totalData: [],       // åç«¯è¿”å›çš„æ‰€æœ‰æ•°æ®
      currentPage: 1,      // å½“å‰é¡µç 
      pageSize: 10,        // æ¯é¡µæ•°é‡
    }
  },
  computed: {
    // è®¡ç®—å½“å‰é¡µåº”è¯¥æ˜¾ç¤ºçš„æ•°æ®
    currentPageData() {
      const start = (this.currentPage - 1) * this.pageSize;
      const end = start + this.pageSize;
      return this.totalData.slice(start, end);
    }
  },
  mounted() {
    this.loadAllData();
  },
  methods: {
    // ä»åç«¯è·å–æ‰€æœ‰æ•°æ®
    async loadAllData() {
      const response = await this.$axios.get('/api/books');
      this.totalData = response.data.data;
    },
    
    // ç¿»é¡µ
    handlePageChange(page) {
      this.currentPage = page;
    },
    
    // æ”¹å˜æ¯é¡µæ•°é‡
    handleSizeChange(size) {
      this.pageSize = size;
      this.currentPage = 1; // é‡ç½®åˆ°ç¬¬ä¸€é¡µ
    }
  }
}
</script>
```

### æ•°æ®æµè½¬å›¾

```text
å‰ç«¯è¯·æ±‚æ•°æ®
    â†“
åç«¯: ä¸€æ¬¡æ€§è¿”å›æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„è®°å½•
    â†“
å‰ç«¯: æ‹¿åˆ°æ‰€æœ‰æ•°æ®åï¼Œæ ¹æ®åˆ†é¡µå‚æ•°è®¡ç®—å‡ºå½“å‰é¡µæ•°æ®
    â†“
å‰ç«¯: åªæ˜¾ç¤ºå½“å‰é¡µçš„æ•°æ®ï¼Œå…¶ä»–æ•°æ®åœ¨å†…å­˜ä¸­
    â†“
ç”¨æˆ·ç‚¹å‡»"ä¸‹ä¸€é¡µ"æ—¶ï¼Œå‰ç«¯é‡æ–°è®¡ç®—å½“å‰é¡µæ•°æ®å¹¶æ˜¾ç¤º
```

### å‰ç«¯åˆ†é¡µå·¥å…·å‡½æ•°

```javascript
// src/utils/pagination.js

/**
 * å‰ç«¯åˆ†é¡µå‡½æ•°
 * @param {Array} data - æ‰€æœ‰æ•°æ®
 * @param {Number} page - å½“å‰é¡µç ï¼ˆä»1å¼€å§‹ï¼‰
 * @param {Number} size - æ¯é¡µæ•°é‡
 * @returns {Object} åˆ†é¡µç»“æœ
 */
export function paginate(data, page, size) {
  const start = (page - 1) * size;
  const end = start + size;
  const pageData = data.slice(start, end);
  
  return {
    data: pageData,
    total: data.length,
    page: page,
    size: size,
    pages: Math.ceil(data.length / size)
  };
}

/**
 * å‰ç«¯æœç´¢å‡½æ•°
 * @param {Array} data - æ‰€æœ‰æ•°æ®
 * @param {String} keyword - æœç´¢å…³é”®è¯
 * @param {Array} fields - æœç´¢å­—æ®µæ•°ç»„
 * @returns {Array} æœç´¢ç»“æœ
 */
export function search(data, keyword, fields) {
  if (!keyword) return data;
  
  const lowerKeyword = keyword.toLowerCase();
  return data.filter(item => {
    return fields.some(field => {
      const value = item[field];
      return value && value.toString().toLowerCase().includes(lowerKeyword);
    });
  });
}
```

### ä½¿ç”¨ç¤ºä¾‹

```javascript
import { paginate, search } from '@/utils/pagination';

// ç¤ºä¾‹ï¼šå‰ç«¯åˆ†é¡µ
const allBooks = response.data.data; // ä»åç«¯è·å–çš„æ‰€æœ‰æ•°æ®
const filteredBooks = search(allBooks, 'çº¢æ¥¼æ¢¦', ['title', 'author']);
const pagedBooks = paginate(filteredBooks, 1, 10);

// pagedBooks åŒ…å«ï¼š
// {
//   data: [/* å½“å‰é¡µæ•°æ® */],
//   total: 100, // æ€»è®°å½•æ•°
//   page: 1,    // å½“å‰é¡µç 
//   size: 10,   // æ¯é¡µæ•°é‡
//   pages: 10   // æ€»é¡µæ•°
// }
```

### æ³¨æ„äº‹é¡¹

1. **æ•°æ®é‡é™åˆ¶**ï¼šå‰ç«¯åˆ†é¡µé€‚åˆæ•°æ®é‡ä¸å¤§çš„æƒ…å†µï¼ˆå»ºè®®ä¸è¶…è¿‡1000æ¡ï¼‰
2. **æ€§èƒ½è€ƒè™‘**ï¼šå¦‚æœæ•°æ®é‡è¿‡å¤§ï¼Œåº”ä½¿ç”¨åç«¯åˆ†é¡µ
3. **å†…å­˜å ç”¨**ï¼šæ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨æµè§ˆå™¨å†…å­˜ä¸­ï¼Œå¤§æ•°æ®é‡ä¼šå½±å“æ€§èƒ½
4. **æœç´¢ç­›é€‰**ï¼šæ‰€æœ‰æœç´¢ç­›é€‰éƒ½åœ¨å‰ç«¯å®Œæˆï¼Œä¸ä¼šè¯·æ±‚åç«¯
5. **å®æ—¶æ€§**ï¼šæ•°æ®ä¸€æ¬¡æ€§åŠ è½½ï¼Œä¸ä¼šå®æ—¶æ›´æ–°ï¼Œéœ€è¦æ‰‹åŠ¨åˆ·æ–°

### ä¼˜åŠ¿

1. **å“åº”é€Ÿåº¦å¿«**ï¼šç¿»é¡µä¸éœ€è¦é‡æ–°è¯·æ±‚æœåŠ¡å™¨
2. **æœç´¢å³æ—¶**ï¼šå‰ç«¯æœç´¢æ— éœ€ç­‰å¾…æœåŠ¡å™¨å“åº”
3. **å®ç°ç®€å•**ï¼šä¸éœ€è¦å¤æ‚çš„åˆ†é¡µé€»è¾‘
4. **ç”¨æˆ·ä½“éªŒå¥½**ï¼šå¿«é€Ÿç¿»é¡µå’Œæœç´¢

### åŠ£åŠ¿

1. **åˆå§‹åŠ è½½æ…¢**ï¼šç¬¬ä¸€æ¬¡åŠ è½½æ‰€æœ‰æ•°æ®å¯èƒ½è¾ƒæ…¢
2. **å†…å­˜å ç”¨é«˜**ï¼šå¤§æ•°æ®é‡ä¼šå ç”¨è¾ƒå¤šæµè§ˆå™¨å†…å­˜
3. **æ•°æ®ä¸å®æ—¶**ï¼šæ•°æ®æ›´æ–°éœ€è¦é‡æ–°åŠ è½½æ‰€æœ‰æ•°æ®

---

## ğŸ”§ ä¸‰ã€æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

### 1. è‡ªåŠ¨å€Ÿä¹¦é€»è¾‘

```java
// å€Ÿä¹¦æ¥å£çš„ä¸šåŠ¡é€»è¾‘
1. éªŒè¯ç®¡ç†å‘˜æƒé™
2. è·å–ç”¨æˆ·å’Œä¹¦ç±ä¿¡æ¯
3. æ£€æŸ¥ç”¨æˆ·ï¼šborrowed_count < max_borrow_count
4. æ£€æŸ¥ä¹¦ç±ï¼šavailable_copies > 0
5. å¦‚æœæ£€æŸ¥é€šè¿‡ï¼š
   a. åˆ›å»ºå€Ÿé˜…è®°å½•
      - borrow_date = å½“å‰æ—¶é—´
      - due_date = å½“å‰æ—¶é—´ + 30å¤©
      - status = 'BORROWED'
   b. æ›´æ–°ç”¨æˆ·ï¼šborrowed_count + 1
   c. æ›´æ–°ä¹¦ç±ï¼šavailable_copies - 1
6. è¿”å›å€Ÿé˜…æˆåŠŸ
```

### 2. è‡ªåŠ¨è¿˜ä¹¦é€»è¾‘

```java
// è¿˜ä¹¦æ¥å£çš„ä¸šåŠ¡é€»è¾‘
1. éªŒè¯ç®¡ç†å‘˜æƒé™
2. è·å–å€Ÿé˜…è®°å½•ï¼ˆå¿…é¡»æ˜¯BORROWEDçŠ¶æ€ï¼‰
3. æ›´æ–°å€Ÿé˜…è®°å½•ï¼š
   a. return_date = å½“å‰æ—¶é—´
   b. status = 'RETURNED'
4. æ›´æ–°ç”¨æˆ·ï¼šborrowed_count - 1
5. æ›´æ–°ä¹¦ç±ï¼šavailable_copies + 1
6. å¦‚æœå½“å‰æ—¶é—´ > due_dateï¼š
   a. è®¡ç®—é€¾æœŸå¤©æ•°
   b. å¯ä»¥è®°å½•é€¾æœŸä¿¡æ¯ï¼ˆä½†ä¸éœ€è¦ä¿¡ç”¨åˆ†ç³»ç»Ÿï¼‰
7. è¿”å›è¿˜ä¹¦æˆåŠŸ
```

### 3. ç»­å€Ÿé€»è¾‘

```java
// ç»­å€Ÿæ¥å£çš„ä¸šåŠ¡é€»è¾‘
1. éªŒè¯ç”¨æˆ·æƒé™ï¼ˆå¿…é¡»æ˜¯å€Ÿé˜…è€…æœ¬äººï¼‰
2. è·å–å€Ÿé˜…è®°å½•ï¼ˆå¿…é¡»æ˜¯BORROWEDçŠ¶æ€ï¼‰
3. æ£€æŸ¥ï¼šrenewed_count < max_renew_count
4. å¦‚æœæ£€æŸ¥é€šè¿‡ï¼š
   a. æ›´æ–°due_date = åŸdue_date + 15å¤©
   b. renewed_count + 1
5. è¿”å›ç»­å€ŸæˆåŠŸ
```

### 4. ç¬”è®°ç®¡ç†é€»è¾‘

```java
// ç¬”è®°ç®¡ç†çš„ä¸šåŠ¡é€»è¾‘
1. æ‰€æœ‰ç¬”è®°æ“ä½œéƒ½éœ€è¦ç”¨æˆ·ç™»å½•
2. ç”¨æˆ·åªèƒ½æ“ä½œè‡ªå·±çš„ç¬”è®°
3. ç¬”è®°å¯ä»¥å…³è”æˆ–ä¸å…³è”ä¹¦ç±
4. ç¬”è®°åˆ—è¡¨å¯æŒ‰ä¹¦ç±ç­›é€‰
```

### 5. åˆ†ç±»å¤„ç†é€»è¾‘

```java
// åˆ†ç±»å¤„ç†é€»è¾‘
1. åç«¯åªå­˜å‚¨æ•°å­—åˆ†ç±»IDï¼ˆ1-10ï¼‰
2. å‰ç«¯ç¡¬ç¼–ç æ•°å­—åˆ°ä¸­æ–‡åˆ†ç±»çš„æ˜ å°„
3. åç«¯éªŒè¯åˆ†ç±»IDå¿…é¡»åœ¨1-10èŒƒå›´å†…
4. å‰ç«¯åœ¨å±•ç¤ºæ—¶è‡ªåŠ¨æ˜ å°„æ•°å­—åˆ°ä¸­æ–‡åˆ†ç±»åç§°
```

---

## ğŸ¨ å››ã€å‰ç«¯é¡µé¢è®¾è®¡

### 1. ç™»å½•/æ³¨å†Œé¡µé¢

- **ä¸¤ä¸ªç‹¬ç«‹ç™»å½•é¡µé¢**ï¼šç®¡ç†å‘˜ç™»å½•é¡µé¢ / ç”¨æˆ·ç™»å½•é¡µé¢ï¼Œä¸¤ä¸ªé¡µé¢æœ‰æŒ‰é’®å¯ä»¥å®ç°ç›¸äº’è·³è½¬
- æ™®é€šç”¨æˆ·æ— æ³•ç™»å½•ç®¡ç†å‘˜åå°
- ç®¡ç†å‘˜ç™»å½•è¡¨å•ï¼ˆç®¡ç†å‘˜ä¸“ç”¨ï¼‰
- ç”¨æˆ·ç™»å½•è¡¨å•ï¼ˆæ™®é€šç”¨æˆ·ä½¿ç”¨ï¼‰
- ç”¨æˆ·æ³¨å†Œè¡¨å•ï¼ˆç”¨æˆ·åã€å¯†ç ã€é‚®ç®±ï¼‰

### 2. ç®¡ç†å‘˜åå°ç³»ç»Ÿï¼ˆå·¦ä¾§å¯¼èˆªæ å¸ƒå±€ï¼‰

#### (1) ä»ªè¡¨æ¿ Dashboard

- ç³»ç»Ÿæ¦‚è§ˆç»Ÿè®¡ï¼šç”¨æˆ·æ€»æ•°ã€å›¾ä¹¦æ€»æ•°ã€å½“å‰å€Ÿé˜…æ•°ã€é€¾æœŸæ•°
- å¿«é€Ÿæ“ä½œï¼šå€Ÿä¹¦ã€è¿˜ä¹¦ã€æ·»åŠ å›¾ä¹¦

#### (2) ç”¨æˆ·ç®¡ç†é¡µé¢

- ç”¨æˆ·åˆ—è¡¨è¡¨æ ¼ï¼ˆå‰ç«¯åˆ†é¡µï¼‰
- æœç´¢ç”¨æˆ·åŠŸèƒ½
- ç¼–è¾‘/åˆ é™¤ç”¨æˆ·æ“ä½œ
- æŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…ï¼ˆå€Ÿé˜…å†å²ï¼‰

#### (3) å›¾ä¹¦ç®¡ç†é¡µé¢

- å›¾ä¹¦åˆ—è¡¨è¡¨æ ¼ï¼ˆå‰ç«¯åˆ†é¡µï¼‰
- æœç´¢å›¾ä¹¦ï¼ˆæŒ‰æ ‡é¢˜ã€ä½œè€…ã€ISBNï¼‰
- **æ–°å¢å›¾ä¹¦æ—¶ï¼Œä½¿ç”¨ä¸‹æ‹‰æ¡†é€‰æ‹©åˆ†ç±»**ï¼ˆæ•°å­—1-10å¯¹åº”ä¸åŒåˆ†ç±»ï¼‰
- ç¼–è¾‘/åˆ é™¤å›¾ä¹¦æ“ä½œ
- æŸ¥çœ‹å›¾ä¹¦è¯¦æƒ…ï¼ˆåº“å­˜ã€å€Ÿé˜…çŠ¶æ€ï¼‰

#### (4) å€Ÿé˜…ç®¡ç†é¡µé¢

**å€Ÿä¹¦åŠŸèƒ½ï¼š**

- ç”¨æˆ·é€‰æ‹©å™¨ï¼ˆæœç´¢é€‰æ‹©ç”¨æˆ·ï¼‰
- å›¾ä¹¦é€‰æ‹©å™¨ï¼ˆæœç´¢é€‰æ‹©å›¾ä¹¦ï¼‰
- å€Ÿå‡ºæŒ‰é’®
- å®æ—¶æ˜¾ç¤ºç”¨æˆ·è¿˜èƒ½å€Ÿå‡ æœ¬ä¹¦
- å®æ—¶æ˜¾ç¤ºå›¾ä¹¦åº“å­˜

**è¿˜ä¹¦åŠŸèƒ½ï¼š**

- å½“å‰å€Ÿé˜…åˆ—è¡¨ï¼ˆæ˜¾ç¤ºæ‰€æœ‰æœªè¿˜ä¹¦è®°å½•ï¼‰
- æŒ‰ç”¨æˆ·æˆ–å›¾ä¹¦æœç´¢
- ä¸€é”®è¿˜ä¹¦æŒ‰é’®
- é€¾æœŸæ ‡è®°

**å€Ÿé˜…è®°å½•ï¼š**

- æ‰€æœ‰å€Ÿé˜…å†å²è¡¨æ ¼ï¼ˆå‰ç«¯åˆ†é¡µï¼‰
- æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆBORROWED/RETURNED/OVERDUEï¼‰

### 3. ç”¨æˆ·å‰å°ç³»ç»Ÿï¼ˆé¡¶éƒ¨å¯¼èˆªæ å¸ƒå±€ï¼‰

#### (1) é¦–é¡µï¼ˆå±•ç¤ºé¡µé¢ï¼‰

- å›¾ä¹¦æ¨èè½®æ’­å›¾
- çƒ­é—¨å›¾ä¹¦å±•ç¤º
- æœ€æ–°ä¸Šæ¶å›¾ä¹¦
- å›¾ä¹¦åˆ†ç±»æµè§ˆå…¥å£

#### (2) å›¾ä¹¦æµè§ˆé¡µé¢ï¼ˆç‚¹å‡»å¯¼èˆªæ "å›¾ä¹¦åˆ—è¡¨"è¿›å…¥ï¼‰

- å›¾ä¹¦åˆ—è¡¨ï¼ˆå‰ç«¯åˆ†é¡µæ˜¾ç¤ºï¼‰
- æœç´¢æ¡†ï¼ˆæ”¯æŒæ ‡é¢˜ã€ä½œè€…æœç´¢ï¼‰
- ç­›é€‰åŠŸèƒ½ï¼ˆæŒ‰åˆ†ç±»ç­‰ï¼‰
- æŸ¥çœ‹å›¾ä¹¦è¯¦æƒ…
- **å›¾ä¹¦åˆ—è¡¨ä¸­æ˜¾ç¤ºä¸­æ–‡åˆ†ç±»åç§°**ï¼ˆå‰ç«¯è‡ªåŠ¨æ˜ å°„ï¼‰

#### (3) å›¾ä¹¦è¯¦æƒ…é¡µé¢

- å›¾ä¹¦åŸºæœ¬ä¿¡æ¯å±•ç¤ºï¼ˆæ ‡é¢˜ã€ä½œè€…ã€å‡ºç‰ˆç¤¾ã€å‡ºç‰ˆå¹´ä»½ç­‰ï¼‰
- **å›¾ä¹¦åˆ†ç±»æ˜¾ç¤ºä¸ºä¸­æ–‡åç§°**ï¼ˆå‰ç«¯æ˜ å°„ï¼‰
- å›¾ä¹¦æè¿°
- åº“å­˜çŠ¶æ€æ˜¾ç¤ºï¼ˆæœ‰åº“å­˜/æ— åº“å­˜ï¼‰

#### (4) æˆ‘çš„å€Ÿé˜…é¡µé¢

- å½“å‰å€Ÿé˜…åˆ—è¡¨ï¼ˆæœªå½’è¿˜çš„å›¾ä¹¦ï¼‰
- å€Ÿé˜…å†å²è®°å½•ï¼ˆå·²å½’è¿˜çš„å›¾ä¹¦ï¼‰ï¼ˆå‰ç«¯åˆ†é¡µï¼‰
- ç»­å€ŸæŒ‰é’®ï¼ˆæ¯ä¸ªå¯ç»­å€Ÿçš„å›¾ä¹¦æ—ï¼‰
- é€¾æœŸæé†’ï¼ˆå¦‚æœå€Ÿé˜…å³å°†åˆ°æœŸæˆ–å·²é€¾æœŸï¼‰
- æ˜¾ç¤ºæ¯æœ¬ä¹¦çš„å€Ÿé˜…æ—¥æœŸã€åº”è¿˜æ—¥æœŸã€çŠ¶æ€

#### (5) ä¸ªäººä¸»é¡µ

**ä¸ŠåŠéƒ¨åˆ†ï¼šä¸ªäººä¿¡æ¯å±•ç¤º**

- ç”¨æˆ·åã€é‚®ç®±ç­‰åŸºæœ¬ä¿¡æ¯
- å½“å‰å€Ÿé˜…æ•°é‡/æœ€å¤§å€Ÿé˜…æ•°é‡

**ä¸‹åŠéƒ¨åˆ†ï¼šç¬”è®°ç®¡ç†**

- æ‰€æœ‰ç¬”è®°å¡ç‰‡å¼æ˜¾ç¤ºï¼ˆå‰ç«¯åˆ†é¡µï¼‰
- æœç´¢ç¬”è®°åŠŸèƒ½ï¼ˆæŒ‰æ ‡é¢˜ã€å†…å®¹ï¼‰
- æ–°å»ºç¬”è®°æŒ‰é’®
- ç¼–è¾‘/åˆ é™¤ç¬”è®°æ“ä½œ
- ç¬”è®°è¯¦æƒ…æŸ¥çœ‹/ç¼–è¾‘

---

## ğŸ”¢ äº”ã€åˆ†ç±»ç³»ç»Ÿè®¾è®¡

### 1. åç«¯åˆ†ç±»æšä¸¾ï¼ˆçº¯æ•°å­—ï¼‰

```java
// BookCategory.java
public enum BookCategory {
    LITERATURE(1),      // æ–‡å­¦
    HISTORY(2),         // å†å²
    SCIENCE(3),         // ç§‘å­¦
    TECHNOLOGY(4),      // æŠ€æœ¯
    EDUCATION(5),       // æ•™è‚²
    ART(6),             // è‰ºæœ¯
    BUSINESS(7),        // å•†ä¸š
    HEALTH(8),          // å¥åº·
    TRAVEL(9),          // æ—…è¡Œ
    OTHER(10);          // å…¶ä»–
    
    private final int code;
    
    BookCategory(int code) {
        this.code = code;
    }
    
    public int getCode() {
        return code;
    }
    
    public static BookCategory fromCode(int code) {
        for (BookCategory category : values()) {
            if (category.code == code) {
                return category;
            }
        }
        return OTHER;
    }
}
```

### 2. å‰ç«¯ç¡¬ç¼–ç åˆ†ç±»æ˜ å°„

```javascript
// src/constants/bookCategories.js
// å‰ç«¯ç¡¬ç¼–ç åˆ†ç±»æ˜ å°„ï¼ˆæ•°å­— -> ä¸­æ–‡ï¼‰
export const BOOK_CATEGORIES = {
  1: 'æ–‡å­¦',
  2: 'å†å²',
  3: 'ç§‘å­¦',
  4: 'æŠ€æœ¯',
  5: 'æ•™è‚²',
  6: 'è‰ºæœ¯',
  7: 'å•†ä¸š',
  8: 'å¥åº·',
  9: 'æ—…è¡Œ',
  10: 'å…¶ä»–'
};

// åˆ†ç±»ä¸‹æ‹‰é€‰é¡¹
export const CATEGORY_OPTIONS = [
  { value: 1, label: 'æ–‡å­¦' },
  { value: 2, label: 'å†å²' },
  { value: 3, label: 'ç§‘å­¦' },
  { value: 4, label: 'æŠ€æœ¯' },
  { value: 5, label: 'æ•™è‚²' },
  { value: 6, label: 'è‰ºæœ¯' },
  { value: 7, label: 'å•†ä¸š' },
  { value: 8, label: 'å¥åº·' },
  { value: 9, label: 'æ—…è¡Œ' },
  { value: 10, label: 'å…¶ä»–' }
];
```

### 3. å‰ç«¯å·¥å…·å‡½æ•°

```javascript
// src/utils/categoryUtils.js
import { BOOK_CATEGORIES } from '@/constants/bookCategories';

// æ ¹æ®æ•°å­—è·å–åˆ†ç±»åç§°
export function getCategoryName(categoryCode) {
  return BOOK_CATEGORIES[categoryCode] || 'æœªçŸ¥åˆ†ç±»';
}
```

### 4. åˆ†ç±»ä½¿ç”¨è¯´æ˜

**æ•°æ®ä¼ è¾“è§„åˆ™ï¼š**

- åç«¯å­˜å‚¨å’Œä¼ è¾“ï¼š**çº¯æ•°å­—**ï¼ˆ1-10ï¼‰
- å‰ç«¯å±•ç¤ºï¼š**è‡ªåŠ¨æ˜ å°„ä¸ºä¸­æ–‡**
- ç®¡ç†å‘˜æ·»åŠ /ç¼–è¾‘å›¾ä¹¦ï¼š**ä¸‹æ‹‰æ¡†é€‰æ‹©åˆ†ç±»**ï¼ˆæ˜¾ç¤ºä¸­æ–‡ï¼Œæäº¤æ•°å­—ï¼‰

**ä¼˜åŠ¿ï¼š**

1. æ•°æ®åº“å­˜å‚¨ç®€æ´ï¼ˆæ•°å­—æ¯”å­—ç¬¦ä¸²èŠ‚çœç©ºé—´ï¼‰
2. å‰ç«¯å›½é™…åŒ–æ”¯æŒï¼ˆå¯è½»æ¾åˆ‡æ¢ä¸åŒè¯­è¨€ï¼‰
3. åˆ†ç±»å˜æ›´çµæ´»ï¼ˆåªéœ€ä¿®æ”¹å‰ç«¯æ˜ å°„ï¼Œæ— éœ€æ”¹åŠ¨æ•°æ®åº“ï¼‰

---

## ğŸš€ å…­ã€æŠ€æœ¯æ ˆæ¨è

### åç«¯

- **æ¡†æ¶**: Spring Boot
- **å®‰å…¨**: Spring Security + JWTï¼ˆç”¨äºAPIé‰´æƒï¼‰
- **æ•°æ®åº“**: MySQL
- **ORM**: MyBatis Plus
- **æ„å»ºå·¥å…·**: Maven
- **APIæ–‡æ¡£**: Swagger

### å‰ç«¯ï¼ˆVue2ç‰ˆæœ¬ï¼‰

- **æ¡†æ¶**: Vue2
- **UIç»„ä»¶åº“**: Element UIï¼ˆé€‚åˆåå°ç®¡ç†ç³»ç»Ÿï¼‰ + è‡ªå®šä¹‰æ ·å¼ï¼ˆå‰å°é¡µé¢ï¼‰
- **è·¯ç”±**: Vue Router
- **çŠ¶æ€ç®¡ç†**: Vuex
- **HTTPå®¢æˆ·ç«¯**: Axios
- **æ„å»ºå·¥å…·**: Vue CLI
- **å‰ç«¯åˆ†é¡µ**: ä½¿ç”¨Element UIçš„Paginationç»„ä»¶ + è‡ªå®šä¹‰åˆ†é¡µé€»è¾‘

---

## âœ… ä¸ƒã€å…³é”®æ³¨æ„äº‹é¡¹

1. **æƒé™åˆ†ç¦»**: ç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·ç³»ç»Ÿå®Œå…¨åˆ†ç¦»ï¼Œé¿å…æƒé™æ··æ·†

2. **æ•°æ®å®‰å…¨**: ç”¨æˆ·å¯†ç åŠ å¯†å­˜å‚¨ï¼Œæ•æ„Ÿä¿¡æ¯ä¿æŠ¤

3. **åˆ†ç±»å¤„ç†**: åç«¯ä»…å¤„ç†æ•°å­—åˆ†ç±»ï¼Œå‰ç«¯è´Ÿè´£æ˜ å°„æ˜¾ç¤º

4. **å¹¶å‘æ§åˆ¶**: å›¾ä¹¦åº“å­˜æ›´æ–°æ—¶è€ƒè™‘å¹¶å‘æƒ…å†µ

5. **ç”¨æˆ·ä½“éªŒ**: ç®¡ç†å‘˜æ“ä½œç®€åŒ–ï¼Œç”¨æˆ·ç•Œé¢å‹å¥½

   
